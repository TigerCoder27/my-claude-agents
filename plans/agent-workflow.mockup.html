<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Claude Agents SOP - Standard Operating Procedure</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            padding: 40px 20px;
            min-height: 100vh;
        }

        .container {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 16px;
            padding: 50px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            padding-bottom: 30px;
            border-bottom: 3px solid #667eea;
        }

        h1 {
            color: #2c3e50;
            font-size: 36px;
            margin-bottom: 10px;
        }

        .version-badge {
            display: inline-block;
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 12px;
            margin-bottom: 15px;
        }

        .subtitle {
            color: #7f8c8d;
            font-size: 16px;
        }

        /* Table of Contents */
        .toc {
            background: #f8f9fa;
            border-radius: 8px;
            padding: 25px;
            margin-bottom: 40px;
        }

        .toc h2 {
            color: #2c3e50;
            font-size: 18px;
            margin-bottom: 15px;
        }

        .toc-list {
            list-style: none;
            columns: 2;
            column-gap: 30px;
        }

        .toc-list li {
            margin-bottom: 8px;
        }

        .toc-list a {
            color: #667eea;
            text-decoration: none;
            font-size: 14px;
        }

        .toc-list a:hover {
            text-decoration: underline;
        }

        /* Section Styles */
        .section {
            margin-bottom: 50px;
        }

        .section-header {
            display: flex;
            align-items: center;
            margin-bottom: 20px;
        }

        .section-number {
            background: #667eea;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
            margin-right: 15px;
            flex-shrink: 0;
        }

        .section-title {
            color: #2c3e50;
            font-size: 22px;
            font-weight: 600;
        }

        /* Info Boxes */
        .info-box {
            background: #e8f4fd;
            border-left: 4px solid #3498db;
            padding: 20px;
            border-radius: 6px;
            margin: 20px 0;
            font-size: 14px;
            line-height: 1.7;
        }

        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #f39c12;
            padding: 20px;
            border-radius: 6px;
            margin: 20px 0;
            font-size: 14px;
            line-height: 1.7;
        }

        .success-box {
            background: #d4edda;
            border-left: 4px solid #27ae60;
            padding: 20px;
            border-radius: 6px;
            margin: 20px 0;
            font-size: 14px;
            line-height: 1.7;
        }

        /* Agent Cards */
        .agent-grid {
            display: grid;
            grid-template-columns: 1fr;
            gap: 20px;
            margin: 20px 0;
        }

        .agent-card {
            border: 2px solid #ecf0f1;
            border-radius: 12px;
            padding: 25px;
            background: #fafbfc;
            position: relative;
        }

        .agent-card.red {
            border-left: 6px solid #e74c3c;
        }

        .agent-card.orange {
            border-left: 6px solid #f39c12;
        }

        .agent-card.green {
            border-left: 6px solid #27ae60;
        }

        .agent-type-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            padding: 5px 12px;
            border-radius: 15px;
            font-size: 11px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .agent-type-badge.red {
            background: #e74c3c;
            color: white;
        }

        .agent-type-badge.orange {
            background: #f39c12;
            color: white;
        }

        .agent-type-badge.green {
            background: #27ae60;
            color: white;
        }

        .agent-title {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 10px;
        }

        .agent-description {
            font-size: 14px;
            color: #555;
            line-height: 1.6;
            margin-bottom: 15px;
        }

        .agent-details {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            font-size: 13px;
        }

        .agent-detail {
            background: white;
            padding: 10px;
            border-radius: 6px;
            border: 1px solid #ecf0f1;
        }

        .agent-detail-label {
            color: #7f8c8d;
            font-size: 11px;
            text-transform: uppercase;
            margin-bottom: 3px;
        }

        .agent-detail-value {
            color: #2c3e50;
            font-weight: 500;
        }

        /* Code Blocks */
        .code-block {
            background: #1e1e1e;
            color: #d4d4d4;
            padding: 20px;
            border-radius: 8px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 13px;
            overflow-x: auto;
            margin: 15px 0;
            position: relative;
        }

        .code-block::before {
            content: attr(data-lang);
            position: absolute;
            top: 8px;
            right: 12px;
            background: #3c3c3c;
            color: #858585;
            padding: 2px 8px;
            border-radius: 4px;
            font-size: 10px;
            text-transform: uppercase;
        }

        .code-block .comment {
            color: #6a9955;
        }

        .code-block .command {
            color: #569cd6;
        }

        .code-block .path {
            color: #ce9178;
        }

        /* Step Lists */
        .step-list {
            counter-reset: step-counter;
            list-style: none;
            margin: 20px 0;
        }

        .step-list li {
            counter-increment: step-counter;
            padding: 15px 15px 15px 60px;
            background: #f8f9fa;
            border-radius: 8px;
            margin-bottom: 12px;
            position: relative;
            font-size: 14px;
            line-height: 1.6;
        }

        .step-list li::before {
            content: counter(step-counter);
            position: absolute;
            left: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: #667eea;
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 14px;
        }

        /* Checklist */
        .checklist {
            list-style: none;
            margin: 20px 0;
        }

        .checklist li {
            padding: 12px 15px 12px 45px;
            background: #f8f9fa;
            border-radius: 6px;
            margin-bottom: 8px;
            position: relative;
            font-size: 14px;
        }

        .checklist li::before {
            content: "‚òê";
            position: absolute;
            left: 15px;
            font-size: 18px;
            color: #667eea;
        }

        /* Tables */
        .data-table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
            font-size: 13px;
        }

        .data-table th {
            background: #667eea;
            color: white;
            padding: 12px 15px;
            text-align: left;
            font-weight: 600;
        }

        .data-table td {
            padding: 12px 15px;
            border-bottom: 1px solid #ecf0f1;
        }

        .data-table tr:hover {
            background: #f8f9fa;
        }

        /* Decision Tree */
        .decision-tree {
            background: #f8f9fa;
            padding: 25px;
            border-radius: 8px;
            margin: 20px 0;
        }

        .decision-question {
            background: #667eea;
            color: white;
            padding: 12px 20px;
            border-radius: 6px;
            font-weight: 500;
            margin-bottom: 15px;
            text-align: center;
        }

        .decision-options {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 15px;
        }

        .decision-option {
            text-align: center;
            padding: 15px;
            border-radius: 8px;
            border: 2px solid #ecf0f1;
            background: white;
        }

        .decision-option.red {
            border-color: #e74c3c;
        }

        .decision-option.orange {
            border-color: #f39c12;
        }

        .decision-option.green {
            border-color: #27ae60;
        }

        .decision-label {
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .decision-trigger {
            font-size: 12px;
            color: #7f8c8d;
        }

        /* Footer */
        .footer {
            margin-top: 50px;
            padding-top: 30px;
            border-top: 2px solid #ecf0f1;
            text-align: center;
            color: #7f8c8d;
            font-size: 13px;
        }

        .footer-meta {
            display: flex;
            justify-content: center;
            gap: 30px;
            margin-top: 15px;
        }

        /* Print styles */
        @media print {
            body {
                background: white;
                padding: 0;
            }
            .container {
                box-shadow: none;
                padding: 20px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Header -->
        <div class="header">
            <div class="version-badge">SOP v1.0 | January 2026</div>
            <h1>Claude Agents</h1>
            <h2 style="color: #667eea; font-size: 20px; margin-bottom: 15px;">Standard Operating Procedure</h2>
            <p class="subtitle">Complete guide to understanding, installing, and using 259 AI assistants</p>
        </div>

        <!-- Table of Contents -->
        <div class="toc">
            <h2>Table of Contents</h2>
            <ul class="toc-list">
                <li><a href="#section-1">1. What Are Claude Agents?</a></li>
                <li><a href="#section-2">2. The Three Agent Types</a></li>
                <li><a href="#section-3">3. How to Choose the Right Agent</a></li>
                <li><a href="#section-4">4. Installation: Your Local PC</a></li>
                <li><a href="#section-5">5. Installation: New Workstation</a></li>
                <li><a href="#section-6">6. Using Agents in Practice</a></li>
                <li><a href="#section-7">7. Hybrid Auto-Routing</a></li>
                <li><a href="#section-8">8. Color-Coding & Visual ID</a></li>
                <li><a href="#section-9">9. Multi-Agent Orchestration</a></li>
                <li><a href="#section-10">10. Troubleshooting</a></li>
                <li><a href="#section-11">11. Quick Reference</a></li>
            </ul>
        </div>

        <!-- Section 1: What Are Agents -->
        <div class="section" id="section-1">
            <div class="section-header">
                <div class="section-number">1</div>
                <div class="section-title">What Are Claude Agents?</div>
            </div>

            <div class="info-box">
                <strong>Simple Definition:</strong> Claude Agents are 259 specialized AI assistants, each trained to excel at specific tasks. Instead of one generic helper, you have a team of experts.
            </div>

            <p style="font-size: 14px; line-height: 1.8; margin: 20px 0;">
                Think of it like a company with different departments:
            </p>

            <ul style="margin: 15px 0 15px 25px; font-size: 14px; line-height: 1.8;">
                <li><strong>Quality Assurance (RED)</strong> ‚Äî Makes sure everything works correctly</li>
                <li><strong>Project Management (ORANGE)</strong> ‚Äî Coordinates big, multi-step projects</li>
                <li><strong>Specialists (GREEN)</strong> ‚Äî Experts in specific skills (React, Python, etc.)</li>
            </ul>

            <div class="success-box">
                <strong>Key Benefit:</strong> You describe what you want in plain English, and the right expert helps you do it better and faster than doing everything yourself.
            </div>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>Source Repository</th>
                        <th>Prefix</th>
                        <th>Count</th>
                        <th>Specialty</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>vanzan01/claude-code-sub-agent-collective</td>
                        <td><code>tdd-</code></td>
                        <td>32</td>
                        <td>Test-driven development, quality gates</td>
                    </tr>
                    <tr>
                        <td>wshobson/agents</td>
                        <td><code>ws-</code></td>
                        <td>100</td>
                        <td>Multi-agent orchestration, workflows</td>
                    </tr>
                    <tr>
                        <td>VoltAgent/awesome-claude-code-subagents</td>
                        <td><code>va-</code></td>
                        <td>127</td>
                        <td>Domain experts (languages, frameworks)</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Section 2: Three Agent Types -->
        <div class="section" id="section-2">
            <div class="section-header">
                <div class="section-number">2</div>
                <div class="section-title">The Three Agent Types</div>
            </div>

            <div class="agent-grid">
                <!-- RED Agents -->
                <div class="agent-card red">
                    <span class="agent-type-badge red">RED</span>
                    <div class="agent-title">TESTERS ‚Äî Quality Check Team</div>
                    <div class="agent-description">
                        These agents ensure your code is <strong>correct, safe, and bug-free</strong> before you use it. They write tests, catch problems early, and validate that everything works as expected.
                    </div>
                    <div class="agent-details">
                        <div class="agent-detail">
                            <div class="agent-detail-label">Use When</div>
                            <div class="agent-detail-value">Writing code that needs to work correctly</div>
                        </div>
                        <div class="agent-detail">
                            <div class="agent-detail-label">Agent Count</div>
                            <div class="agent-detail-value">32 agents</div>
                        </div>
                        <div class="agent-detail">
                            <div class="agent-detail-label">Trigger Words</div>
                            <div class="agent-detail-value">test, validate, verify, bug, quality</div>
                        </div>
                        <div class="agent-detail">
                            <div class="agent-detail-label">Example</div>
                            <div class="agent-detail-value">"Make sure this code works"</div>
                        </div>
                    </div>
                </div>

                <!-- ORANGE Agents -->
                <div class="agent-card orange">
                    <span class="agent-type-badge orange">ORANGE</span>
                    <div class="agent-title">COORDINATORS ‚Äî Project Manager Team</div>
                    <div class="agent-description">
                        These agents handle <strong>big, complex projects with many steps</strong> that need to happen in the right order. They keep everything organized, manage dependencies, and ensure smooth execution.
                    </div>
                    <div class="agent-details">
                        <div class="agent-detail">
                            <div class="agent-detail-label">Use When</div>
                            <div class="agent-detail-value">Complex tasks with multiple moving parts</div>
                        </div>
                        <div class="agent-detail">
                            <div class="agent-detail-label">Agent Count</div>
                            <div class="agent-detail-value">100 agents</div>
                        </div>
                        <div class="agent-detail">
                            <div class="agent-detail-label">Trigger Words</div>
                            <div class="agent-detail-value">deploy, migrate, pipeline, workflow, coordinate</div>
                        </div>
                        <div class="agent-detail">
                            <div class="agent-detail-label">Example</div>
                            <div class="agent-detail-value">"Deploy this to production safely"</div>
                        </div>
                    </div>
                </div>

                <!-- GREEN Agents -->
                <div class="agent-card green">
                    <span class="agent-type-badge green">GREEN</span>
                    <div class="agent-title">SPECIALISTS ‚Äî Expert Team</div>
                    <div class="agent-description">
                        These agents are <strong>deep experts in specific languages, frameworks, and skills</strong>. Each one knows their specialty inside and out ‚Äî React, Python, Kubernetes, security, and more.
                    </div>
                    <div class="agent-details">
                        <div class="agent-detail">
                            <div class="agent-detail-label">Use When</div>
                            <div class="agent-detail-value">You need domain-specific expertise</div>
                        </div>
                        <div class="agent-detail">
                            <div class="agent-detail-label">Agent Count</div>
                            <div class="agent-detail-value">127 agents</div>
                        </div>
                        <div class="agent-detail">
                            <div class="agent-detail-label">Trigger Words</div>
                            <div class="agent-detail-value">build, create, write, [technology name]</div>
                        </div>
                        <div class="agent-detail">
                            <div class="agent-detail-label">Example</div>
                            <div class="agent-detail-value">"Build a React dashboard"</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Section 3: How to Choose -->
        <div class="section" id="section-3">
            <div class="section-header">
                <div class="section-number">3</div>
                <div class="section-title">How to Choose the Right Agent</div>
            </div>

            <div class="decision-tree">
                <div class="decision-question">What are you trying to do?</div>
                <div class="decision-options">
                    <div class="decision-option red">
                        <div class="decision-label" style="color: #e74c3c;">RED (Testers)</div>
                        <div class="decision-trigger">
                            "Test this"<br>
                            "Check for bugs"<br>
                            "Validate it works"<br>
                            "Make sure it's correct"
                        </div>
                    </div>
                    <div class="decision-option orange">
                        <div class="decision-label" style="color: #f39c12;">ORANGE (Coordinators)</div>
                        <div class="decision-trigger">
                            "Deploy to production"<br>
                            "Migrate the database"<br>
                            "Manage the pipeline"<br>
                            "Coordinate the release"
                        </div>
                    </div>
                    <div class="decision-option green">
                        <div class="decision-label" style="color: #27ae60;">GREEN (Specialists)</div>
                        <div class="decision-trigger">
                            "Build a React app"<br>
                            "Write Python code"<br>
                            "Create a component"<br>
                            "Optimize for performance"
                        </div>
                    </div>
                </div>
            </div>

            <div class="info-box">
                <strong>Pro Tip:</strong> You don't need to memorize agent names! Just describe your task naturally, and with Hybrid Mode enabled, the system will automatically suggest the right agents based on your words.
            </div>
        </div>

        <!-- Section 4: Installation - Local PC -->
        <div class="section" id="section-4">
            <div class="section-header">
                <div class="section-number">4</div>
                <div class="section-title">Installation: Your Local PC (First Time)</div>
            </div>

            <div class="warning-box">
                <strong>Prerequisites:</strong> You need Git and Claude Code CLI installed on your computer before proceeding.
            </div>

            <h3 style="margin: 25px 0 15px; color: #2c3e50; font-size: 16px;">Step-by-Step Installation</h3>

            <ol class="step-list">
                <li>
                    <strong>Open your terminal</strong> (PowerShell on Windows, Terminal on Mac/Linux)
                </li>
                <li>
                    <strong>Navigate to where you want to store the agents</strong>
                    <div class="code-block" data-lang="bash">
<span class="comment"># Example: Go to your home directory</span>
<span class="command">cd</span> ~
                    </div>
                </li>
                <li>
                    <strong>Clone the repository</strong>
                    <div class="code-block" data-lang="bash">
<span class="command">git clone</span> https://github.com/YOUR_USERNAME/my-claude-agents.git
<span class="command">cd</span> my-claude-agents
                    </div>
                </li>
                <li>
                    <strong>Run the installer for GLOBAL installation</strong> (recommended)
                    <div class="code-block" data-lang="powershell">
<span class="comment"># Windows (PowerShell)</span>
.\install.ps1 -Global

<span class="comment"># Mac/Linux (Bash)</span>
chmod +x install.sh
./install.sh --global
                    </div>
                </li>
                <li>
                    <strong>Verify installation</strong>
                    <div class="code-block" data-lang="bash">
<span class="comment"># Check that agents folder exists</span>
<span class="command">ls</span> ~/.claude/agents/

<span class="comment"># You should see 259 .md files</span>
                    </div>
                </li>
            </ol>

            <div class="success-box">
                <strong>What "-Global" Does:</strong> Installs agents to <code>~/.claude/agents/</code> so they work in ALL your projects, on any folder you open with Claude Code.
            </div>

            <h3 style="margin: 25px 0 15px; color: #2c3e50; font-size: 16px;">What Gets Installed</h3>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>Location</th>
                        <th>Contents</th>
                        <th>Purpose</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>~/.claude/agents/</code></td>
                        <td>259 agent .md files</td>
                        <td>Agent definitions available globally</td>
                    </tr>
                    <tr>
                        <td><code>~/.claude/CLAUDE.md</code></td>
                        <td>Behavioral config</td>
                        <td>Routing rules and settings</td>
                    </tr>
                    <tr>
                        <td><code>~/.claude/settings.json</code></td>
                        <td>Settings file</td>
                        <td>Hybrid routing configuration</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Section 5: Installation - New Workstation -->
        <div class="section" id="section-5">
            <div class="section-header">
                <div class="section-number">5</div>
                <div class="section-title">Installation: New Workstation</div>
            </div>

            <div class="info-box">
                <strong>Scenario:</strong> You've set everything up on your main PC, now you need to install on a new work computer, laptop, or colleague's machine.
            </div>

            <h3 style="margin: 25px 0 15px; color: #2c3e50; font-size: 16px;">Quick Install (3 Commands)</h3>

            <div class="code-block" data-lang="bash">
<span class="comment"># 1. Clone from your repo (or the source)</span>
<span class="command">git clone</span> https://github.com/YOUR_USERNAME/my-claude-agents.git

<span class="comment"># 2. Enter the directory</span>
<span class="command">cd</span> my-claude-agents

<span class="comment"># 3. Run the global installer</span>
<span class="comment"># Windows:</span>
.\install.ps1 -Global

<span class="comment"># Mac/Linux:</span>
./install.sh --global
            </div>

            <div class="success-box">
                <strong>That's it!</strong> All 259 agents are now available on the new machine.
            </div>

            <h3 style="margin: 25px 0 15px; color: #2c3e50; font-size: 16px;">Syncing Updates Across Devices</h3>

            <p style="font-size: 14px; margin: 15px 0;">When you add or update agents on one device:</p>

            <div class="code-block" data-lang="bash">
<span class="comment"># On the device where you made changes:</span>
<span class="command">git add</span> .
<span class="command">git commit</span> -m "Updated agent configurations"
<span class="command">git push</span>

<span class="comment"># On other devices, pull the updates:</span>
<span class="command">git pull</span>
.\install.ps1 -Global   <span class="comment"># Re-run installer to apply changes</span>
            </div>

            <h3 style="margin: 25px 0 15px; color: #2c3e50; font-size: 16px;">New Workstation Checklist</h3>

            <ul class="checklist">
                <li>Git is installed on the new machine</li>
                <li>Claude Code CLI is installed</li>
                <li>Repository cloned successfully</li>
                <li>Installer ran without errors</li>
                <li>Verified: <code>ls ~/.claude/agents/</code> shows files</li>
                <li>Test: Open Claude Code and describe a task</li>
            </ul>
        </div>

        <!-- Section 6: Using Agents -->
        <div class="section" id="section-6">
            <div class="section-header">
                <div class="section-number">6</div>
                <div class="section-title">Using Agents in Practice</div>
            </div>

            <h3 style="margin: 20px 0 15px; color: #2c3e50; font-size: 16px;">Method 1: Explicit Agent Call</h3>

            <p style="font-size: 14px; margin: 10px 0;">Directly specify which agent to use:</p>

            <div class="code-block" data-lang="conversation">
<span class="comment"># In Claude Code, type:</span>
Use @va-react-specialist to build a login component

<span class="comment"># Or:</span>
Use @tdd-validation-agent to test my API endpoints
            </div>

            <h3 style="margin: 25px 0 15px; color: #2c3e50; font-size: 16px;">Method 2: Natural Language (With Hybrid Mode)</h3>

            <p style="font-size: 14px; margin: 10px 0;">Just describe what you want ‚Äî the system picks the right agent:</p>

            <div class="code-block" data-lang="conversation">
<span class="comment"># You say:</span>
"Build a React dashboard and make sure it works"

<span class="comment"># System automatically:</span>
- Detects: build (GREEN) + make sure (RED)
- Suggests: va-react-specialist + tdd-validation-agent
- Asks: "Deploy these agents? [y/n]"
            </div>

            <h3 style="margin: 25px 0 15px; color: #2c3e50; font-size: 16px;">Real-World Examples</h3>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>What You Say</th>
                        <th>Agent Type</th>
                        <th>Agent Selected</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>"Test this for memory leaks"</td>
                        <td><span style="color: #e74c3c;">RED</span></td>
                        <td>tdd-validation-agent</td>
                    </tr>
                    <tr>
                        <td>"Deploy to AWS safely"</td>
                        <td><span style="color: #f39c12;">ORANGE</span></td>
                        <td>ws-deployment-orchestrator</td>
                    </tr>
                    <tr>
                        <td>"Write a Python data parser"</td>
                        <td><span style="color: #27ae60;">GREEN</span></td>
                        <td>va-python-expert</td>
                    </tr>
                    <tr>
                        <td>"Build React app and test it"</td>
                        <td><span style="color: #27ae60;">GREEN</span> + <span style="color: #e74c3c;">RED</span></td>
                        <td>va-react-specialist + tdd-validation-agent</td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Section 7: Hybrid Routing -->
        <div class="section" id="section-7">
            <div class="section-header">
                <div class="section-number">7</div>
                <div class="section-title">Hybrid Auto-Routing (Advanced)</div>
            </div>

            <div class="info-box">
                <strong>What is Hybrid Mode?</strong> An intelligent system that analyzes your natural language and automatically suggests the right agents based on keywords and context.
            </div>

            <h3 style="margin: 20px 0 15px; color: #2c3e50; font-size: 16px;">How It Works</h3>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>Confidence Level</th>
                        <th>System Behavior</th>
                        <th>Example</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>High (‚â•85%)</strong></td>
                        <td>Auto-deploys without asking</td>
                        <td>"Test this code" ‚Üí Runs tests immediately</td>
                    </tr>
                    <tr>
                        <td><strong>Medium (60-84%)</strong></td>
                        <td>Suggests and asks for approval</td>
                        <td>"Improve this" ‚Üí "Deploy optimizer? [y/n]"</td>
                    </tr>
                    <tr>
                        <td><strong>Low (&lt;60%)</strong></td>
                        <td>Asks clarifying question</td>
                        <td>"Make it better" ‚Üí "What would you like to do?"</td>
                    </tr>
                </tbody>
            </table>

            <h3 style="margin: 25px 0 15px; color: #2c3e50; font-size: 16px;">Enable Hybrid Mode</h3>

            <p style="font-size: 14px; margin: 10px 0;">Ensure this is in your <code>~/.claude/settings.json</code>:</p>

            <div class="code-block" data-lang="json">
{
  "enhanced_routing": {
    "enabled": true,
    "mode": "hybrid",
    "confidence_threshold": 0.6,
    "show_confidence_scores": true
  }
}
            </div>

            <div class="success-box">
                <strong>Benefit:</strong> No memorizing agent names. Just describe your task in plain English, and the right experts are automatically assigned.
            </div>
        </div>

        <!-- Section 8: Color-Coding & Visual ID -->
        <div class="section" id="section-8">
            <div class="section-header">
                <div class="section-number">8</div>
                <div class="section-title">Color-Coding & Visual Identification</div>
            </div>

            <div class="info-box">
                <strong>Why Color-Code?</strong> With 259 agents, colors help you instantly see which type is active. RED for testers, ORANGE for coordinators, GREEN for specialists.
            </div>

            <h3 style="margin: 20px 0 15px; color: #2c3e50; font-size: 16px;">Color Reference</h3>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>Type</th>
                        <th>Color</th>
                        <th>Hex Code</th>
                        <th>Emoji</th>
                        <th>Agent Prefix</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><span style="background: #e74c3c; color: white; padding: 3px 10px; border-radius: 4px;">RED</span></td>
                        <td>Testers / Quality</td>
                        <td><code>#e74c3c</code></td>
                        <td>üî¥</td>
                        <td><code>tdd-*</code></td>
                    </tr>
                    <tr>
                        <td><span style="background: #f39c12; color: white; padding: 3px 10px; border-radius: 4px;">ORANGE</span></td>
                        <td>Coordinators / Workflow</td>
                        <td><code>#f39c12</code></td>
                        <td>üü†</td>
                        <td><code>ws-*</code></td>
                    </tr>
                    <tr>
                        <td><span style="background: #27ae60; color: white; padding: 3px 10px; border-radius: 4px;">GREEN</span></td>
                        <td>Specialists / Experts</td>
                        <td><code>#27ae60</code></td>
                        <td>üü¢</td>
                        <td><code>va-*</code></td>
                    </tr>
                </tbody>
            </table>

            <h3 style="margin: 25px 0 15px; color: #2c3e50; font-size: 16px;">Status Indicators</h3>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>Status</th>
                        <th>Emoji</th>
                        <th>Meaning</th>
                    </tr>
                </thead>
                <tbody>
                    <tr><td>Idle</td><td>‚ö™</td><td>Agent not active</td></tr>
                    <tr><td>Active</td><td>üîµ</td><td>Currently working on task</td></tr>
                    <tr><td>Success</td><td>‚úÖ</td><td>Task completed successfully</td></tr>
                    <tr><td>Error</td><td>‚ùå</td><td>Task failed</td></tr>
                    <tr><td>Waiting</td><td>‚è≥</td><td>Awaiting input or dependency</td></tr>
                </tbody>
            </table>

            <h3 style="margin: 25px 0 15px; color: #2c3e50; font-size: 16px;">CLI Color Scripts</h3>

            <p style="font-size: 14px; margin: 10px 0;">Use the colorization scripts to see agent colors in your terminal:</p>

            <div class="code-block" data-lang="powershell">
<span class="comment"># Windows PowerShell - Show demo of all colors</span>
.\scripts\colorize-agents.ps1 -Demo

<span class="comment"># Colorize a message with agent names</span>
.\scripts\colorize-agents.ps1 -Message "Deploying va-react-specialist for task"
            </div>

            <div class="code-block" data-lang="bash">
<span class="comment"># Mac/Linux Bash - Show demo</span>
./scripts/colorize-agents.sh --demo

<span class="comment"># Colorize a message</span>
./scripts/colorize-agents.sh --message "Running tdd-validation-agent tests"
            </div>

            <div class="success-box">
                <strong>Output Example:</strong><br>
                üî¥ <span style="color: #e74c3c; font-weight: bold;">tdd-validation-agent</span> üîµ <span style="color: #888;">Running tests...</span><br>
                üü¢ <span style="color: #27ae60; font-weight: bold;">va-react-specialist</span> ‚úÖ <span style="color: #888;">Component built</span>
            </div>
        </div>

        <!-- Section 9: Multi-Agent Orchestration -->
        <div class="section" id="section-9">
            <div class="section-header">
                <div class="section-number">9</div>
                <div class="section-title">Multi-Agent Orchestration (Advanced)</div>
            </div>

            <div class="info-box">
                <strong>Problem Solved:</strong> When running multiple agents in parallel, context windows can bloat and cause compaction loops. This protocol keeps each agent isolated with file-based outputs.
            </div>

            <h3 style="margin: 20px 0 15px; color: #2c3e50; font-size: 16px;">Key Orchestration Agents</h3>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>Agent</th>
                        <th>Role</th>
                        <th>When to Use</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>tdd-task-orchestrator</code></td>
                        <td>Primary Orchestrator</td>
                        <td>Parallel task execution with dependency management</td>
                    </tr>
                    <tr>
                        <td><code>ws-tdd-orchestrator</code></td>
                        <td>TDD Workflow</td>
                        <td>Multi-agent coordination with TDD enforcement</td>
                    </tr>
                    <tr>
                        <td><code>va-knowledge-synthesizer</code></td>
                        <td>Aggregator</td>
                        <td>Merge outputs from multiple agents into one</td>
                    </tr>
                </tbody>
            </table>

            <h3 style="margin: 25px 0 15px; color: #2c3e50; font-size: 16px;">Branch Isolation Pattern</h3>

            <div class="code-block" data-lang="workflow">
Main Thread:
  ‚îî‚îÄ‚Üí tdd-task-orchestrator analyzes tasks
        ‚îú‚îÄ‚Üí Agent-1 (background) ‚Üí work/agent-1-output.md
        ‚îú‚îÄ‚Üí Agent-2 (background) ‚Üí work/agent-2-output.md
        ‚îî‚îÄ‚Üí Agent-3 (background) ‚Üí work/agent-3-output.md

  ‚îî‚îÄ‚Üí Poll for completion (check file existence)

  ‚îî‚îÄ‚Üí va-knowledge-synthesizer merges outputs
        ‚îî‚îÄ‚Üí work/final-output.md
            </div>

            <h3 style="margin: 25px 0 15px; color: #2c3e50; font-size: 16px;">Isolation Rules</h3>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin: 20px 0;">
                <div class="success-box" style="margin: 0;">
                    <strong>DO:</strong>
                    <ul style="margin: 10px 0 0 20px; font-size: 13px;">
                        <li>Run agents in background mode</li>
                        <li>Write output to work/*.md files</li>
                        <li>Auto-compact at 70% context</li>
                        <li>Return 1-line status only</li>
                        <li>Signal completion via flag file</li>
                    </ul>
                </div>
                <div class="warning-box" style="margin: 0;">
                    <strong>DON'T:</strong>
                    <ul style="margin: 10px 0 0 20px; font-size: 13px;">
                        <li>Return verbose results to main</li>
                        <li>Share context between agents</li>
                        <li>Wait for agent output in main</li>
                        <li>Run 6+ agents in parallel</li>
                        <li>Skip the aggregation phase</li>
                    </ul>
                </div>
            </div>

            <h3 style="margin: 25px 0 15px; color: #2c3e50; font-size: 16px;">Agent Directive Template</h3>

            <div class="code-block" data-lang="prompt">
ISOLATION RULES:
- Work autonomously in isolated context
- Auto-compact when context > 70% full
- Write output to: work/agent-{name}-output.md
- Return only 1-line status to main thread
- Signal done: create work/agent-{name}-complete.flag
            </div>

            <div class="success-box">
                <strong>Benefits:</strong> Each agent gets full context window | Auto-compaction per agent | Main thread never bloats | True parallel execution | Single merge = quality gate
            </div>
        </div>

        <!-- Section 10: Troubleshooting -->
        <div class="section" id="section-10">
            <div class="section-header">
                <div class="section-number">10</div>
                <div class="section-title">Troubleshooting</div>
            </div>

            <h3 style="margin: 20px 0 15px; color: #2c3e50; font-size: 16px;">Common Issues & Solutions</h3>

            <div class="warning-box">
                <strong>Issue:</strong> "Agents not found" or "No agents available"<br><br>
                <strong>Solution:</strong> Re-run the installer with -Global flag:<br>
                <code>.\install.ps1 -Global</code><br>
                Then verify: <code>ls ~/.claude/agents/</code>
            </div>

            <div class="warning-box">
                <strong>Issue:</strong> Wrong agent selected<br><br>
                <strong>Solution:</strong> Use explicit agent call:<br>
                <code>Use @correct-agent-name for this task</code><br>
                Or adjust keywords in <code>routing-keywords.json</code>
            </div>

            <div class="warning-box">
                <strong>Issue:</strong> Hybrid routing not working<br><br>
                <strong>Solution:</strong> Check <code>~/.claude/settings.json</code> has:<br>
                <code>"enhanced_routing": { "enabled": true }</code>
            </div>

            <div class="warning-box">
                <strong>Issue:</strong> Updates not syncing across devices<br><br>
                <strong>Solution:</strong> After <code>git pull</code>, re-run installer:<br>
                <code>.\install.ps1 -Global</code>
            </div>

            <h3 style="margin: 25px 0 15px; color: #2c3e50; font-size: 16px;">Getting Help</h3>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>Resource</th>
                        <th>Location</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Agent Registry (all 259 agents)</td>
                        <td><code>~/.claude/agents/REGISTRY.md</code></td>
                    </tr>
                    <tr>
                        <td>Enhanced Routing Agent</td>
                        <td><code>agents/enhanced-routing-agent.md</code></td>
                    </tr>
                    <tr>
                        <td>Color Scripts</td>
                        <td><code>scripts/colorize-agents.ps1</code> (Win) / <code>.sh</code> (Mac/Linux)</td>
                    </tr>
                    <tr>
                        <td>This SOP Guide</td>
                        <td><code>plans/agent-workflow.mockup.html</code></td>
                    </tr>
                </tbody>
            </table>
        </div>

        <!-- Section 11: Quick Reference -->
        <div class="section" id="section-11">
            <div class="section-header">
                <div class="section-number">11</div>
                <div class="section-title">Quick Reference Card</div>
            </div>

            <div class="info-box">
                <strong>Print This Section!</strong> Cut-and-keep reference for daily use.
            </div>

            <h3 style="margin: 20px 0 15px; color: #2c3e50; font-size: 16px;">Agent Types At-a-Glance</h3>

            <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin: 20px 0;">
                <div style="background: #fde8e8; border: 2px solid #e74c3c; border-radius: 8px; padding: 15px; text-align: center;">
                    <div style="font-size: 24px;">üî¥</div>
                    <div style="font-weight: bold; color: #e74c3c; margin: 8px 0;">RED</div>
                    <div style="font-size: 12px; color: #555;">tdd-* (32 agents)</div>
                    <div style="font-size: 11px; color: #888; margin-top: 5px;">Test | Validate | Quality</div>
                </div>
                <div style="background: #fef5e7; border: 2px solid #f39c12; border-radius: 8px; padding: 15px; text-align: center;">
                    <div style="font-size: 24px;">üü†</div>
                    <div style="font-weight: bold; color: #f39c12; margin: 8px 0;">ORANGE</div>
                    <div style="font-size: 12px; color: #555;">ws-* (100 agents)</div>
                    <div style="font-size: 11px; color: #888; margin-top: 5px;">Deploy | Coordinate | Manage</div>
                </div>
                <div style="background: #e8f8f0; border: 2px solid #27ae60; border-radius: 8px; padding: 15px; text-align: center;">
                    <div style="font-size: 24px;">üü¢</div>
                    <div style="font-weight: bold; color: #27ae60; margin: 8px 0;">GREEN</div>
                    <div style="font-size: 12px; color: #555;">va-* (127 agents)</div>
                    <div style="font-size: 11px; color: #888; margin-top: 5px;">Build | Create | Implement</div>
                </div>
            </div>

            <h3 style="margin: 25px 0 15px; color: #2c3e50; font-size: 16px;">Essential Commands</h3>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>Action</th>
                        <th>Command</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Install globally (first time)</td>
                        <td><code>.\install.ps1 -Global</code></td>
                    </tr>
                    <tr>
                        <td>Use specific agent</td>
                        <td><code>Use @agent-name for task</code></td>
                    </tr>
                    <tr>
                        <td>Verify agents installed</td>
                        <td><code>ls ~/.claude/agents/</code></td>
                    </tr>
                    <tr>
                        <td>Sync updates</td>
                        <td><code>git pull && .\install.ps1 -Global</code></td>
                    </tr>
                    <tr>
                        <td>Test color output</td>
                        <td><code>.\scripts\colorize-agents.ps1 -Demo</code></td>
                    </tr>
                </tbody>
            </table>

            <h3 style="margin: 25px 0 15px; color: #2c3e50; font-size: 16px;">Key File Locations</h3>

            <table class="data-table">
                <thead>
                    <tr>
                        <th>File</th>
                        <th>Path</th>
                        <th>Purpose</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>Agents (global)</td>
                        <td><code>~/.claude/agents/</code></td>
                        <td>259 agent definitions</td>
                    </tr>
                    <tr>
                        <td>Config</td>
                        <td><code>~/.claude/CLAUDE.md</code></td>
                        <td>Routing behavior</td>
                    </tr>
                    <tr>
                        <td>Settings</td>
                        <td><code>~/.claude/settings.json</code></td>
                        <td>Hybrid mode toggle</td>
                    </tr>
                    <tr>
                        <td>Colors</td>
                        <td><code>config/agent-colors.json</code></td>
                        <td>Color definitions</td>
                    </tr>
                </tbody>
            </table>

            <div class="success-box">
                <strong>Remember:</strong> RED = Testing (tdd-) | ORANGE = Coordination (ws-) | GREEN = Specialists (va-)
            </div>
        </div>

        <!-- Footer -->
        <div class="footer">
            <strong>Claude Agents Standard Operating Procedure</strong>
            <div class="footer-meta">
                <span>Version 1.2</span>
                <span>|</span>
                <span>259 Agents</span>
                <span>|</span>
                <span>Last Updated: January 2026</span>
            </div>
        </div>
    </div>
</body>
</html>